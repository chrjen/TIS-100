@0
   MOV UP DOWN

@1


@2
   MOV DOWN RIGHT

@3
    MOV LEFT NIL
S:  SUB RIGHT
    JLZ L2
L1: JEZ E
    SUB 1
    MOV UP DOWN
    JMP L1
L2: JEZ E
    ADD 1
    MOV DOWN UP
    JMP L2
E:  MOV RIGHT ACC
    MOV DOWN RIGHT
    MOV RIGHT DOWN
    JMP S

@4
S: MOV UP ACC
   JLZ E
   ADD 1
   MOV ACC LEFT
   MOV ACC LEFT
   MOV LEFT ACC
   SUB 1
   MOV ACC LEFT
   JMP S

E: MOV 0 LEFT
   MOV -1 LEFT
   MOV 0 DOWN
   MOV -1 DOWN

@5
# BUG:

# TO SPEED THINGS
# UP AN UNROLLED
# LOOP IS USED.
# IT'S ALSO ONLY
# 8 LONG, SO WILL
# FAIL FOR ANY SEQ
# WITH MORE THAN 8
# OCCURANCES OF A
# SINGLE NUMBER.

# 8 IS THE MINIMUM
# TO PASS THE NON-
# RANDOM TESTS.

@6
    MOV -2 RIGHT
    MOV -99 RIGHT

    MOV 11 ACC
L1: MOV -1 RIGHT
    SUB 1
    JNZ L1
    MOV -1 UP
    JRO 0 # HALT

@7
   MOV UP ACC
   JMP E
   MOV ACC DOWN
   MOV ACC DOWN
   MOV ACC DOWN
   MOV ACC DOWN
   MOV ACC DOWN
   MOV ACC DOWN
   MOV ACC DOWN
   MOV ACC DOWN
   ADD 1
E: JRO LEFT

@8
## COUNT SORT

# USES COUNT SORT
# TO SORT THE SEQ.
# EACH NUMBER'S
# OCCURANCE IS
# COUNTED THEN
# OUTPUTS THE
# NUMBERS IN ORDER
# USIN THOSE.

# THE "COUNTING"
# IS ACTUALLY
# OFFSETS FOR THE
# NODE ON THE LEFT