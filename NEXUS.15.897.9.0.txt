@0
## RECURSIVE QUERY

# MAKE A 5-BLOCK
# CHAIN OF CELLS
# WHERE EACH CELL
# ASKES THE PRIOR
# CELL FOR THE
# VALUE UNTIL
# THE CORRECT CELL
# IS REACHED WHICH
# THEN RETURNS THE
# VALUE

@1
   MOV UP RIGHT

@2
S: MOV UP ACC
   SAV

   MOV LEFT ACC
   JEZ Z
   MOV 1 RIGHT
   MOV ACC RIGHT
   MOV RIGHT DOWN
   JMP E

Z: SWP
   MOV ACC DOWN
E: MOV 11 RIGHT
   MOV ACC RIGHT

@3
S: JRO LEFT
   MOV LEFT ACC
   ADD 1
   JEZ Z
   MOV 1 DOWN
   MOV ACC DOWN
   MOV DOWN LEFT
   JMP S
Z: SWP
   MOV ACC LEFT
   JMP S
E: MOV 11 DOWN
   MOV ACC DOWN
   MOV LEFT ACC
   SAV

@4


@5
# BUG: MISSING
# SWP- & SAV-INSTR
# AFTER QUERY DONE

# THIS MAKES IT SO
# THE IN.R VALUE
# GETS PASSED DOWN
# INSTEAD OF IN.A

# TODO: MAKE CHAIN
# 5-BLOCKS LONG,
# CURRENTLY -999
# IS RETURNED IF
# THE INDEX IS
# BELOW -3

@6
   MOV UP DOWN

@7
S: JRO UP
   MOV UP ACC
   ADD 1
   JEZ Z
   MOV 1 DOWN
   MOV ACC DOWN
   MOV DOWN UP
   JMP S
Z: SWP
   MOV ACC UP
   JMP S
E: MOV 9 DOWN
   MOV ACC DOWN
   MOV UP ACC
   SAV

@8


@9
#   MOV RIGHT ACC
#   SAV
   MOV ANY DOWN

@10
S: JRO UP
   MOV UP ACC
   ADD 1
   JEZ Z
   MOV -999 UP
   JMP S
Z: SWP
   MOV ACC UP
   JMP S
E: MOV UP ACC
   SAV
